{% extends "componentes/header.html" %}
{% load static %}

{% block links %}
<link rel="stylesheet" href="{% static 'register.css' %}?v=1.0">
{% endblock %}

{% block title %} Registrarse {% endblock %}

{% block content %}
<div class="mainLogin">
    <div class="support-section">
        <div class="header">
            <img src="{% static 'img/applelogo.png' %}" alt="Apple TV logo" class="logo2" style="width: 150px; height: auto; margin-top: 5%;">
        </div>
    </div>
    <div class="MainRegister">
        {% if user.is_authenticated %}
        <!-- Redirigir si el usuario ya está autenticado -->
        <script>window.location.href = '/Inicio/';</script>
        {% else %}
        <h2>Registrarse</h2>
        <form id="Formulario" method="POST">
            {% csrf_token %}
            <!-- Mostrar cada campo del formulario con mensajes de error -->
            {% for field in form %}
                <div class="form-group">
                    {{ field }}
                    {{ field.errors }}
                </div>
            {% endfor %}
            <input value="Registrarse" type="submit">
        </form>
        <p>¿Ya tienes cuenta? <a href="{% url 'login' %}">Ingresa ya!</a></p>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block js %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.3.4/inputmask/inputmask.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.3.4/jquery.inputmask.bundle.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.3.4/css/inputmask.min.css" rel="stylesheet"/>
    <script src="{% static 'Register.js' %}"></script>
{% endblock js %}
