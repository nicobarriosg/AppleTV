{% extends 'base.html' %}

{% block content %}
<div id="dramaCarousel" class="carousel slide w-100" data-ride="carousel">
    <div class="carousel-inner">
        {% for pelicula in peliculas_drama %}
            {% if forloop.counter == 1 or forloop.counter|add:"-1"|divisibleby:"4" %}
                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                    <div class="d-flex justify-content-around w-100">
            {% endif %}

            <div class="col-md-3">
                <a href="{% url 'pelicula-detail' pelicula.id %}">
                    <img src="{{ pelicula.imagen }}" class="d-block w-100 img-fluid" alt="{{ pelicula.nombre }}" style="height: auto; object-fit: cover; margin: 10px;">
                </a>
            </div>

            {% if forloop.counter|divisibleby:"4" or forloop.last %}
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>

    <a class="carousel-control-prev" href="#dramaCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#dramaCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>



<div id="serieCarousel" class="carousel slide w-100" data-ride="carousel">
    <div class="carousel-inner">
        {% for serie in series_drama %}
            {% if forloop.counter == 1 or forloop.counter|add:"-1"|divisibleby:"4" %}
                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                    <div class="d-flex justify-content-around w-100">
            {% endif %}

            <div class="col-md-3">
                <a href="{% url 'pelicula-detail' serie.id %}">
                    <img src="{{ serie.imagen }}" class="d-block w-100 img-fluid" alt="{{ serie.nombre }}" style="height: auto; object-fit: cover; margin: 10px;">
                </a>
            </div>

            {% if forloop.counter|divisibleby:"4" or forloop.last %}
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>

    <a class="carousel-control-prev" href="#serieCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#serieCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
{% endblock %}
